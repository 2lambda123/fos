
未来重构RTOS思想

1. 使用函数指针作为任务切换的办法，这种办法是纯C写的，比起使用汇编稳定，干净，利落，而且这种切换结构致使每个任务不再需要一个栈，从而整个系统节省了RAM，这是最可贵的地方。任务之间还是可以发生抢占，抢占点发生在中断退出，任务阻塞。

2. old_task 和 new_task 简化整个系统。去除冗余的task变量，比如真正运行任务变量，获得最高优先级任务，将要运行任务，这些烦琐的变量。old_task就是当前运行的任务的前一个任务，new_task永远是当前运行的任务。

3. 任务状态就三种，运行与就绪，阻塞。简单永远是硬道理。规定好全局变量与结构体，贯穿整个OS，不允许以后修改。从而框架比较固定。

4. 去掉繁琐的字符串名字标识，可以指定先启动任何一个任务，调度算法：初始化32个优先级队列，用一个变量task_prio_map表示哪个优先级队列上已有任务，再根据该任务是否可以运行，决定最终可否运行该任务。
